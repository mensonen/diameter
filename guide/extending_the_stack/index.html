
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../node_statistics/">
      
      
        <link rel="next" href="../../examples/credit_control_sms_client/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Extending and customising - Python Diameter Stack</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
    

    

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#extending-the-stack" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Python Diameter Stack" class="md-header__button md-logo" aria-label="Python Diameter Stack" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python Diameter Stack
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Extending and customising
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/mensonen/diameter" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Python Diameter Stack" class="md-nav__button md-logo" aria-label="Python Diameter Stack" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Python Diameter Stack
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mensonen/diameter" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../avp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Working with AVPs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../message/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Working with messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../node/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connecting to peers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sample_application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sample application
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../node_statistics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statistics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Extending and customising
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Extending and customising
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-or-overwriting-avps" class="md-nav__link">
    <span class="md-ellipsis">
      Adding or overwriting AVPs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-or-overwriting-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Adding or overwriting commands
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/credit_control_sms_client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Credit Control SMS client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/idle_server_client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Idling server and client
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Refrence
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Refrence
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/avp/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    AVP
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            AVP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/avp/grouped/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grouped AVPs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/message/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Message
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/aa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/aa_mobile_node/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AA Mobile Node
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/abort_session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Abort Session
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/accounting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accounting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/capabilities_exchange/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Capabilities Exchange
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/credit_control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Credit Control
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/device_watchdog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Device Watchdog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/diameter_eap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Diameter EAP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/disconnect_peer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Disconnect Peer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/home_agent_mip/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home Agent MIP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/location_info/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Location Info
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/multimedia_auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multimedia Auth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/push_profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Push Profile
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/re_auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Re Auth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/registration_termination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Registration Termination
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/server_assignment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Server Assignment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/session_termination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Session Termination
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/spending_limit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spending Limit
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/spending_status_notification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spending Status Notification
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/user_authorization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Authorization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/commands/other_commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/node/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Node
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/peer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Peer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/utilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Node utilities
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="extending-the-stack">Extending the stack<a class="headerlink" href="#extending-the-stack" title="Permanent link">&para;</a></h1>
<p>The diameter stack can be extended by adding or overwriting command 
implementations with custom ones, or by defining or overwriting AVP definitions.</p>
<h2 id="adding-or-overwriting-avps">Adding or overwriting AVPs<a class="headerlink" href="#adding-or-overwriting-avps" title="Permanent link">&para;</a></h2>
<p>The <a class="autorefs autorefs-internal" title="register" href="../../api/avp/#diameter.message.avp.avp.register">message.avp.avp.register</a> method can be
used to either add new AVP definitions or to overwrite behaviour of existing
AVPs.</p>
<div class="highlight"><pre><span></span><code><span id="__span-0-1"><span class="c1"># Add a new AVP definition for AVP 90000001 and vendor 9999999</span>
</span><span id="__span-0-2"><span class="kn">from</span> <span class="nn">diameter.message.avp</span> <span class="kn">import</span> <span class="n">avp</span><span class="p">,</span> <span class="n">AvpUtf8String</span>
</span><span id="__span-0-3">
</span><span id="__span-0-4"><span class="n">VENDOR_SPECIAL</span> <span class="o">=</span> <span class="mi">9999999</span>
</span><span id="__span-0-5"><span class="n">AVP_SPECIAL_SESSION_ID</span> <span class="o">=</span> <span class="mi">90000001</span>
</span><span id="__span-0-6">
</span><span id="__span-0-7"><span class="n">avp</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">avp</span><span class="o">=</span><span class="n">AVP_SPECIAL_SESSION_ID</span><span class="p">,</span> 
</span><span id="__span-0-8">             <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Special-Session-Id&quot;</span><span class="p">,</span> 
</span><span id="__span-0-9">             <span class="n">type_cls</span><span class="o">=</span><span class="n">AvpUtf8String</span><span class="p">,</span> 
</span><span id="__span-0-10">             <span class="n">vendor</span><span class="o">=</span><span class="n">VENDOR_SPECIAL</span><span class="p">)</span>
</span></code></pre></div>
<p>Existing AVPs can be overwritten by redefining an existing code. When 
overwriting an AVP definition, all the defining values (name, type, vendor, 
etc.) will be overwritten, even if no value was given.</p>
<div class="highlight"><pre><span></span><code><span id="__span-1-1"><span class="c1"># Overwrite behaviour for &quot;Framed-IPv6-Prefix&quot; AVP so that its value can be </span>
</span><span id="__span-1-2"><span class="c1"># given as an IPV6 string instead of bytes containing the necessary data.</span>
</span><span id="__span-1-3"><span class="kn">import</span> <span class="nn">socket</span>
</span><span id="__span-1-4">
</span><span id="__span-1-5"><span class="kn">from</span> <span class="nn">diameter.message.avp</span> <span class="kn">import</span> <span class="n">Avp</span><span class="p">,</span> <span class="n">avp</span>
</span><span id="__span-1-6"><span class="kn">from</span> <span class="nn">diameter.message.constants</span> <span class="kn">import</span> <span class="o">*</span>
</span><span id="__span-1-7">
</span><span id="__span-1-8">
</span><span id="__span-1-9"><span class="k">class</span> <span class="nc">AvpFramedIpv6</span><span class="p">(</span><span class="n">Avp</span><span class="p">):</span>
</span><span id="__span-1-10">    <span class="nd">@property</span>
</span><span id="__span-1-11">    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
</span><span id="__span-1-12">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span>
</span><span id="__span-1-13">
</span><span id="__span-1-14">    <span class="nd">@value</span><span class="o">.</span><span class="n">setter</span>
</span><span id="__span-1-15">    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-1-16">        <span class="n">framed_ipv6</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">inet_pton</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET6</span><span class="p">,</span> <span class="n">new_value</span><span class="p">)</span>
</span><span id="__span-1-17">        <span class="bp">self</span><span class="o">.</span><span class="n">payload</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\00</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">framed_ipv6</span><span class="p">)</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">()</span> <span class="o">+</span> <span class="n">framed_ipv6</span>
</span><span id="__span-1-18">
</span><span id="__span-1-19">
</span><span id="__span-1-20"><span class="c1"># Use identical values as the existing definition but change the type from </span>
</span><span id="__span-1-21"><span class="c1"># AvpOctetString to AvpFramedIpv6</span>
</span><span id="__span-1-22"><span class="n">avp</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">AVP_FRAMED_IPV6_PREFIX</span><span class="p">,</span> <span class="s2">&quot;Framed-IPv6-Prefix&quot;</span><span class="p">,</span> <span class="n">AvpFramedIpv6</span><span class="p">,</span> 
</span><span id="__span-1-23">             <span class="n">mandatory</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-1-24">
</span><span id="__span-1-25"><span class="n">framed_ipv6_prefix</span> <span class="o">=</span> <span class="n">Avp</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">AVP_FRAMED_IPV6_PREFIX</span><span class="p">)</span>
</span><span id="__span-1-26"><span class="n">framed_ipv6_prefix</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;2a00:1fa2:c863:8c7e::&quot;</span>
</span><span id="__span-1-27"><span class="nb">print</span><span class="p">(</span><span class="n">framed_ipv6_prefix</span><span class="p">)</span>
</span><span id="__span-1-28">
</span><span id="__span-1-29"><span class="c1"># Prints:</span>
</span><span id="__span-1-30"><span class="c1"># Framed-IPv6-Prefix &lt;Code: 0x61, Flags: 0x40 (-M-), Length: 26, Val: b&#39;\x00\x80*\x00\x1f\xa2\xc8c\x8c~\x00\x00\x00\x00\x00\x00\x00\x00&#39;&gt;</span>
</span></code></pre></div>
<p>After overwriting or creating an AVP definition, it becomes available globally
and will be used everywhere, where AVPs are concerned, without having to change 
the definition for each command individually:</p>
<div class="highlight"><pre><span></span><code><span id="__span-2-1"><span class="c1"># After changing the type for Framed-IPv6-Prefix, it can be used everywhere</span>
</span><span id="__span-2-2"><span class="kn">from</span> <span class="nn">diameter.message</span> <span class="kn">import</span> <span class="n">dump</span>
</span><span id="__span-2-3"><span class="kn">from</span> <span class="nn">diameter.message.commands.abort_session</span> <span class="kn">import</span> <span class="n">AbortSessionRequest</span>
</span><span id="__span-2-4">
</span><span id="__span-2-5"><span class="n">asr</span> <span class="o">=</span> <span class="n">AbortSessionRequest</span><span class="p">()</span>
</span><span id="__span-2-6"><span class="n">asr</span><span class="o">.</span><span class="n">framed_ipv6_prefix</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2a00:1fa2:c863:8c7e::&quot;</span><span class="p">]</span>
</span><span id="__span-2-7"><span class="nb">print</span><span class="p">(</span><span class="n">dump</span><span class="p">(</span><span class="n">asr</span><span class="p">))</span>
</span><span id="__span-2-8">
</span><span id="__span-2-9"><span class="c1"># Prints:</span>
</span><span id="__span-2-10"><span class="c1"># Abort-Session &lt;Version: 0x01, Length: 0, Flags: 0xc0 (request, proxyable), Hop-by-Hop Identifier: 0x0, End-to-End Identifier: 0x0&gt;</span>
</span><span id="__span-2-11"><span class="c1">#  Auth-Application-Id &lt;Code: 0x102, Flags: 0x40 (-M-), Length: 12, Val: 0&gt;</span>
</span><span id="__span-2-12"><span class="c1">#  Framed-IPv6-Prefix &lt;Code: 0x61, Flags: 0x40 (-M-), Length: 26, Val: b&#39;\x00\x80*\x00\x1f\xa2\xc8c\x8c~\x00\x00\x00\x00\x00\x00\x00\x00&#39;&gt;</span>
</span></code></pre></div>
<h2 id="adding-or-overwriting-commands">Adding or overwriting commands<a class="headerlink" href="#adding-or-overwriting-commands" title="Permanent link">&para;</a></h2>
<p>The <a class="autorefs autorefs-internal" title="register" href="../../api/commands/other_commands/#diameter.message.commands.register">message.commands.register</a> method can
be used to either add a new command definition or to overwrite an existing 
command definition. When added, using the 
<a class="autorefs autorefs-internal" title="from_bytes


  
      classmethod
  " href="../../api/message/#diameter.message.Message.from_bytes">Message.from_bytes</a> method will 
automatically return instances of the added command. If the command also has 
"Request" and "Answer" subclasses, those are returned automatically as well.</p>
<div class="highlight"><pre><span></span><code><span id="__span-3-1"><span class="c1"># Define a new &quot;Special-Message&quot; command with both request and answer </span>
</span><span id="__span-3-2"><span class="c1"># subclasses and AVP definitions and add it to the command registry. The way</span>
</span><span id="__span-3-3"><span class="c1"># these classes are defined is similar to how all subclasses of `DefinedMessage`</span>
</span><span id="__span-3-4"><span class="c1"># are implemented in the diameter.message.commands module.</span>
</span><span id="__span-3-5">
</span><span id="__span-3-6"><span class="kn">from</span> <span class="nn">diameter.message</span> <span class="kn">import</span> <span class="n">Message</span><span class="p">,</span> <span class="n">DefinedMessage</span><span class="p">,</span> <span class="n">MessageHeader</span><span class="p">,</span> <span class="n">dump</span>
</span><span id="__span-3-7"><span class="kn">from</span> <span class="nn">diameter.message._base</span> <span class="kn">import</span>  <span class="n">_AnyMessageType</span>
</span><span id="__span-3-8"><span class="kn">from</span> <span class="nn">diameter.message.avp.generator</span> <span class="kn">import</span> <span class="n">AvpGenDef</span><span class="p">,</span> <span class="n">AvpGenType</span>
</span><span id="__span-3-9"><span class="kn">from</span> <span class="nn">diameter.message.commands</span> <span class="kn">import</span> <span class="n">register</span>
</span><span id="__span-3-10"><span class="kn">from</span> <span class="nn">diameter.message.commands._attributes</span> <span class="kn">import</span> <span class="n">assign_attr_from_defs</span>
</span><span id="__span-3-11"><span class="kn">from</span> <span class="nn">diameter.message.constants</span> <span class="kn">import</span> <span class="o">*</span>
</span><span id="__span-3-12">
</span><span id="__span-3-13"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>
</span><span id="__span-3-14">
</span><span id="__span-3-15">
</span><span id="__span-3-16"><span class="k">class</span> <span class="nc">SpecialMessage</span><span class="p">(</span><span class="n">DefinedMessage</span><span class="p">):</span>
</span><span id="__span-3-17">    <span class="n">code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">999</span>
</span><span id="__span-3-18">    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Special-Message&quot;</span>
</span><span id="__span-3-19">    <span class="n">avp_def</span><span class="p">:</span> <span class="n">AvpGenType</span>
</span><span id="__span-3-20">
</span><span id="__span-3-21">    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-3-22">        <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">command_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span>
</span><span id="__span-3-23">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__post_init__</span><span class="p">()</span>
</span><span id="__span-3-24">
</span><span id="__span-3-25">    <span class="nd">@classmethod</span>
</span><span id="__span-3-26">    <span class="k">def</span> <span class="nf">type_factory</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">header</span><span class="p">:</span> <span class="n">MessageHeader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">_AnyMessageType</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-3-27">        <span class="k">if</span> <span class="n">header</span><span class="o">.</span><span class="n">is_request</span><span class="p">:</span>
</span><span id="__span-3-28">            <span class="k">return</span> <span class="n">SpecialMessageRequest</span>
</span><span id="__span-3-29">        <span class="k">return</span> <span class="n">SpecialMessageAnswer</span>
</span><span id="__span-3-30">
</span><span id="__span-3-31">
</span><span id="__span-3-32"><span class="k">class</span> <span class="nc">SpecialMessageRequest</span><span class="p">(</span><span class="n">SpecialMessage</span><span class="p">):</span>
</span><span id="__span-3-33">    <span class="n">session_id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-3-34">
</span><span id="__span-3-35">    <span class="n">avp_def</span><span class="p">:</span> <span class="n">AvpGenType</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-3-36">        <span class="n">AvpGenDef</span><span class="p">(</span><span class="s2">&quot;session_id&quot;</span><span class="p">,</span> <span class="n">AVP_SESSION_ID</span><span class="p">,</span> <span class="n">is_required</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-3-37">    <span class="p">)</span>
</span><span id="__span-3-38">
</span><span id="__span-3-39">    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-3-40">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__post_init__</span><span class="p">()</span>
</span><span id="__span-3-41">        <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">is_request</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-3-42">        <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">is_proxyable</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-3-43">
</span><span id="__span-3-44">        <span class="n">assign_attr_from_defs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avps</span><span class="p">)</span>
</span><span id="__span-3-45">        <span class="bp">self</span><span class="o">.</span><span class="n">_avps</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-3-46">
</span><span id="__span-3-47">
</span><span id="__span-3-48"><span class="k">class</span> <span class="nc">SpecialMessageAnswer</span><span class="p">(</span><span class="n">SpecialMessage</span><span class="p">):</span>
</span><span id="__span-3-49">    <span class="n">session_id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-3-50">    <span class="n">result_code</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="__span-3-51">
</span><span id="__span-3-52">    <span class="n">avp_def</span><span class="p">:</span> <span class="n">AvpGenType</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-3-53">        <span class="n">AvpGenDef</span><span class="p">(</span><span class="s2">&quot;session_id&quot;</span><span class="p">,</span> <span class="n">AVP_SESSION_ID</span><span class="p">,</span> <span class="n">is_required</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-3-54">        <span class="n">AvpGenDef</span><span class="p">(</span><span class="s2">&quot;result_code&quot;</span><span class="p">,</span> <span class="n">AVP_RESULT_CODE</span><span class="p">,</span> <span class="n">is_required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-3-55">    <span class="p">)</span>
</span><span id="__span-3-56">
</span><span id="__span-3-57">    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-3-58">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__post_init__</span><span class="p">()</span>
</span><span id="__span-3-59">        <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">is_request</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-3-60">        <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">is_proxyable</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-3-61">
</span><span id="__span-3-62">        <span class="n">assign_attr_from_defs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avps</span><span class="p">)</span>
</span><span id="__span-3-63">        <span class="bp">self</span><span class="o">.</span><span class="n">_avps</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-3-64">
</span><span id="__span-3-65">
</span><span id="__span-3-66"><span class="c1"># Adds SpecialMessage and its subclasses to the registry of commands </span>
</span><span id="__span-3-67"><span class="n">register</span><span class="p">(</span><span class="n">SpecialMessage</span><span class="p">)</span>
</span><span id="__span-3-68">
</span><span id="__span-3-69"><span class="n">msg</span> <span class="o">=</span> <span class="n">SpecialMessageRequest</span><span class="p">()</span>
</span><span id="__span-3-70"><span class="n">msg</span><span class="o">.</span><span class="n">session_id</span> <span class="o">=</span> <span class="s2">&quot;host.realm;1&quot;</span>
</span><span id="__span-3-71">
</span><span id="__span-3-72"><span class="nb">print</span><span class="p">(</span><span class="n">dump</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>
</span><span id="__span-3-73"><span class="c1"># Prints:</span>
</span><span id="__span-3-74"><span class="c1"># Special-Message &lt;Version: 0x01, Length: 40, Flags: 0xc0 (request, proxyable), Hop-by-Hop Identifier: 0x0, End-to-End Identifier: 0x0&gt;</span>
</span><span id="__span-3-75"><span class="c1">#  Session-Id &lt;Code: 0x107, Flags: 0x40 (-M-), Length: 20, Val: host.realm;1&gt;</span>
</span><span id="__span-3-76">
</span><span id="__span-3-77"><span class="n">req</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">as_bytes</span><span class="p">())</span>
</span><span id="__span-3-78"><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">SpecialMessageRequest</span><span class="p">)</span>
</span></code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "toc.integrate"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>